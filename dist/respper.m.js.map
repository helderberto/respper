{"version":3,"file":"respper.m.js","sources":["../src/index.js"],"sourcesContent":["class Respper {\n\n  static wrapper(response, promise) {\n    return promise\n      .then((result) => {\n        if (!result) {\n          Respper.handleResponse(response, {\n            status: 404,\n            send: { message: 'Dados não informados.' },\n            data: result\n          });\n        }\n\n        Respper.handleResponse(response, {\n          status: 200,\n          data: result\n        });\n      })\n      .catch(err => {\n        Respper.handleResponse(response, {\n          status: 400,\n          message: err.message\n        })\n      });\n  }\n\n  static handleResponse(response, options) {\n    const { status, data } = options;\n    const message = Respper.getMessage(options.message);\n    const DELETED = '1';\n\n    if (!data) return response.status(status).send({ message: message });\n    if (data == DELETED) return response.sendStatus(status);\n    return response.status(status).send(data);\n  }\n\n  static getMessage(message) {\n    return message || 'Dados não informados.';\n  }\n\n}\n\nmodule.exports = Respper;\n"],"names":["Respper","wrapper","response","promise","then","result","handleResponse","catch","err","message","options","status","data","getMessage","sendStatus","send","module","exports"],"mappings":"AAAA,IAAMA,iBAEGC,iBAAQC,EAAUC,UAChBA,EACJC,cAAMC,GACAA,KACKC,eAAeJ,UACb,kBACS,8BACXG,MAIFC,eAAeJ,UACb,SACFG,MAGTE,eAAMC,KACGF,eAAeJ,UACb,YACCM,EAAIC,eAKdH,wBAAeJ,EAAUQ,OACtBC,WAAQC,SACVH,EAAUT,EAAQa,WAAWH,EAAQD,gBAGtCG,EAFW,KAGZA,EAAwBV,EAASY,WAAWH,GACzCT,EAASS,OAAOA,GAAQI,KAAKH,GAFlBV,EAASS,OAAOA,GAAQI,cAAgBN,OAKrDI,oBAAWJ,UACTA,GAAW,yBAKtBO,OAAOC,QAAUjB"}